{% extends "layouts/base.html" %}


{% block title %}
    Tasks
{% endblock title %}
    

{% block content %}
    <h1>Hello test</h1>

    
    {% if task_list %}
        
        {% for task in task_list %}
            <p>{{task.content}}</p>
            <p>Created: {{task.datetime}}
                {% if task.deadline %}
                    Deadline: {{task.deadline}}
                {% endif %}
            </p>
            <p>Status: {{task.is_completed}}</p>
            <p>Tags: 
                {% for tag in task.tags.all %}
                    {{tag.name}}
                {% endfor %}
            </p>

            <form action="{% url 'task:task-toggle-completion' %}" method="post">
                {% csrf_token %}
                <input type="number" name="task_id" id="task_id" value="{{ task.id }}" hidden>
                <input type="submit" value="change">
            </form>

            <hr>
        {% endfor %}

    {% else %}
        <p>There are no tasks!</p>
    {% endif %}
        
{% endblock content %}
    
